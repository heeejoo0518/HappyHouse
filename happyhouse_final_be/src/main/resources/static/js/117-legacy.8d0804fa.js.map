{"version":3,"file":"js/117-legacy.8d0804fa.js","mappings":"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","sources":["webpack://happyhouse/./src/components/board/BoardDetail.vue?561b","webpack://happyhouse/src/components/board/BoardDetail.vue","webpack://happyhouse/./src/components/board/BoardDetail.vue?1975","webpack://happyhouse/./src/components/board/BoardDetail.vue","webpack://happyhouse/./src/api/board.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"bv-example-row mt-3\"},[_c('b-row',{staticClass:\"mb-1\"},[_c('b-col',{staticClass:\"text-left\"},[_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"size\":\"sm\"},on:{\"click\":_vm.listArticle}},[_vm._v(\"목록\")])],1),(_vm.userInfo != null && _vm.article.userid == _vm.userInfo.userid)?_c('b-col',{staticClass:\"text-right\"},[_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"outline-info\",\"size\":\"sm\"},on:{\"click\":_vm.moveModifyArticle}},[_vm._v(\"글수정\")]),_c('b-button',{attrs:{\"variant\":\"outline-danger\",\"size\":\"sm\"},on:{\"click\":_vm.deleteArticle}},[_vm._v(\"글삭제\")])],1):_vm._e()],1),_c('b-row',{staticClass:\"mb-1\"},[_c('b-col',[_c('b-card',{staticClass:\"mb-2\",attrs:{\"header-html\":(\"<h3 class='mb-4 mt-1'>\" + (_vm.article.subject) + \"</h3><div class='text-right'><strong>\" + (_vm.article.userid) + \"</strong>  \" + (_vm.article.regtime) + \"</div>\"),\"border-variant\":\"white\",\"no-body\":\"\"}},[_c('b-card-body',{staticClass:\"text-left\",staticStyle:{\"min-height\":\"400px\"}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.message)}})])],1),_c('hr',{staticClass:\"my-4\"}),_c('div',{},[(_vm.userInfo != null)?_c('b-card',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"10\"}},[_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"Enter something...\",\"rows\":\"3\",\"max-rows\":\"6\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}})],1),_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('button',{staticClass:\"btn btn-outline-primary\",on:{\"click\":_vm.createComment}},[_vm._v(\" 등록 \")])])],1)],1):_vm._e(),_vm._l((_vm.article.comments),function(comment){return _c('b-card',{key:comment.commentno,staticClass:\"text-left\"},[_c('b-card-text',[_c('b',[_vm._v(_vm._s(comment.userid))]),_vm._v(\" \"+_vm._s(comment.regtime)+\" \"),_c('span',[(_vm.userInfo != null && comment.userid == _vm.userInfo.userid)?_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",on:{\"click\":function($event){return _vm.deleteComment(comment.commentno)}}},[_vm._v(\" 삭제 \")]):_vm._e()])]),_c('b-card-text',[_vm._v(_vm._s(comment.content))])],1)})],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- @format -->\r\n\r\n<template>\r\n  <b-container class=\"bv-example-row mt-3\">\r\n    <b-row class=\"mb-1\">\r\n      <b-col class=\"text-left\">\r\n        <b-button variant=\"outline-primary\" @click=\"listArticle\" size=\"sm\"\r\n          >목록</b-button\r\n        >\r\n      </b-col>\r\n      <b-col\r\n        v-if=\"userInfo != null && article.userid == userInfo.userid\"\r\n        class=\"text-right\"\r\n      >\r\n        <b-button\r\n          variant=\"outline-info\"\r\n          size=\"sm\"\r\n          @click=\"moveModifyArticle\"\r\n          class=\"mr-2\"\r\n          >글수정</b-button\r\n        >\r\n        <b-button variant=\"outline-danger\" size=\"sm\" @click=\"deleteArticle\"\r\n          >글삭제</b-button\r\n        >\r\n      </b-col>\r\n    </b-row>\r\n    <b-row class=\"mb-1\">\r\n      <b-col>\r\n        <b-card\r\n          :header-html=\"`<h3 class='mb-4 mt-1'>${article.subject}</h3><div class='text-right'><strong>${article.userid}</strong>  ${article.regtime}</div>`\"\r\n          class=\"mb-2\"\r\n          border-variant=\"white\"\r\n          no-body\r\n        >\r\n          <b-card-body class=\"text-left\" style=\"min-height: 400px\">\r\n            <div v-html=\"message\"></div>\r\n          </b-card-body>\r\n        </b-card>\r\n        <hr class=\"my-4\" />\r\n\r\n        <div class=\"\">\r\n          <b-card v-if=\"userInfo != null\">\r\n            <b-row>\r\n              <b-col cols=\"10\">\r\n                <b-form-textarea\r\n                  id=\"textarea\"\r\n                  v-model=\"comment\"\r\n                  placeholder=\"Enter something...\"\r\n                  rows=\"3\"\r\n                  max-rows=\"6\"\r\n                ></b-form-textarea>\r\n              </b-col>\r\n              <b-col cols=\"2\">\r\n                <button class=\"btn btn-outline-primary\" @click=\"createComment\">\r\n                  등록\r\n                </button></b-col\r\n              >\r\n            </b-row>\r\n          </b-card>\r\n          <b-card\r\n            class=\"text-left\"\r\n            v-for=\"comment in article.comments\"\r\n            :key=\"comment.commentno\"\r\n          >\r\n            <b-card-text>\r\n              <b>{{ comment.userid }}</b>\r\n              {{ comment.regtime }}\r\n              <span>\r\n                <button\r\n                  v-if=\"userInfo != null && comment.userid == userInfo.userid\"\r\n                  @click=\"deleteComment(comment.commentno)\"\r\n                  class=\"btn btn-outline-danger btn-sm\"\r\n                >\r\n                  삭제\r\n                </button>\r\n              </span>\r\n            </b-card-text>\r\n            <b-card-text>{{ comment.content }}</b-card-text>\r\n          </b-card>\r\n        </div>\r\n      </b-col>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getArticle,\r\n  deleteArticle,\r\n  listComments,\r\n  createComment,\r\n  deleteComment,\r\n} from \"@/api/board\";\r\nimport { mapState } from \"vuex\";\r\nconst memberStore = \"memberStore\";\r\nexport default {\r\n  name: \"BoardDetail\",\r\n  data() {\r\n    return {\r\n      article: {},\r\n      comment: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    message() {\r\n      if (this.article.content)\r\n        return this.article.content.split(\"\\n\").join(\"<br>\");\r\n      return \"\";\r\n    },\r\n    ...mapState(memberStore, [\"userInfo\"]),\r\n  },\r\n  created() {\r\n    getArticle(\r\n      this.$route.params.articleno,\r\n      (response) => {\r\n        this.article = response.data;\r\n      },\r\n      (error) => {\r\n        console.log(\"삭제시 에러발생!!\", error);\r\n      },\r\n    );\r\n    this.listComments();\r\n  },\r\n  methods: {\r\n    listArticle() {\r\n      this.$router.push({ name: \"boardList\" });\r\n    },\r\n    moveModifyArticle() {\r\n      this.$router.replace({\r\n        name: \"boardModify\",\r\n        params: { articleno: this.article.articleno },\r\n      });\r\n      //   this.$router.push({ path: `/board/modify/${this.article.articleno}` });\r\n    },\r\n    deleteArticle() {\r\n      if (confirm(\"정말로 삭제?\")) {\r\n        deleteArticle(this.article.articleno, () => {\r\n          this.$router.push({ name: \"boardList\" });\r\n        });\r\n      }\r\n    },\r\n    listComments() {\r\n      listComments(\r\n        this.$route.params.articleno,\r\n        (response) => {\r\n          this.article = response.data;\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        },\r\n      );\r\n    },\r\n    createComment() {\r\n      createComment(\r\n        {\r\n          articleno: this.article.articleno,\r\n          userid: this.userInfo.userid,\r\n          content: this.comment,\r\n        },\r\n        (response) => {\r\n          if (response.data === \"success\") {\r\n            this.listComments();\r\n            this.comment = \"\";\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log(\"댓글 등록시 에러발생!!\", error);\r\n        },\r\n      );\r\n    },\r\n\r\n    deleteComment(commentno) {\r\n      deleteComment(\r\n        commentno,\r\n        (response) => {\r\n          if (response.data === \"success\") {\r\n            this.listComments();\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log(\"댓글 등록시 에러발생!!\", error);\r\n        },\r\n      );\r\n    },\r\n  },\r\n  // filters: {\r\n  //   dateFormat(regtime) {\r\n  //     return moment(new Date(regtime)).format(\"YY.MM.DD hh:mm:ss\");\r\n  //   },\r\n  // },\r\n};\r\n</script>\r\n\r\n<style>\r\n.card-header {\r\n  background-color: #fcf9f2;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BoardDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BoardDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BoardDetail.vue?vue&type=template&id=0436d078&\"\nimport script from \"./BoardDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./BoardDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BoardDetail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/** @format */\r\n\r\nimport { apiInstance } from \"./index.js\";\r\n\r\nconst api = apiInstance();\r\n\r\nfunction listArticle(success, fail) {\r\n  api.get(`/board`).then(success).catch(fail);\r\n}\r\n\r\nfunction writeArticle(article, success, fail) {\r\n  api.defaults.headers[\"access-token\"] = sessionStorage.getItem(\"access-token\");\r\n  api.post(`/board`, JSON.stringify(article)).then(success).catch(fail);\r\n}\r\n\r\nfunction getArticle(articleno, success, fail) {\r\n  api.get(`/board/${articleno}`).then(success).catch(fail);\r\n}\r\n\r\nfunction modifyArticle(article, success, fail) {\r\n  api.defaults.headers[\"access-token\"] = sessionStorage.getItem(\"access-token\");\r\n  api\r\n    .put(`/board/${article.articleno}`, JSON.stringify(article))\r\n    .then(success)\r\n    .catch(fail);\r\n}\r\n\r\nfunction deleteArticle(articleno, success, fail) {\r\n  api.defaults.headers[\"access-token\"] = sessionStorage.getItem(\"access-token\");\r\n  api.delete(`/board/${articleno}`).then(success).catch(fail);\r\n}\r\n\r\nfunction getTotalCount(success, fail) {\r\n  api.get(`/board/count`).then(success).catch(fail);\r\n}\r\n\r\nfunction listComments(articleno, success, fail) {\r\n  api.get(`/board/${articleno}`).then(success).catch(fail);\r\n}\r\n\r\nfunction createComment(article, success, fail) {\r\n  api.defaults.headers[\"access-token\"] = sessionStorage.getItem(\"access-token\");\r\n  api.post(`/board/comment`, JSON.stringify(article)).then(success).catch(fail);\r\n}\r\n\r\nfunction deleteComment(commentno, success, fail) {\r\n  api.defaults.headers[\"access-token\"] = sessionStorage.getItem(\"access-token\");\r\n  api.delete(`board/comment/${commentno}`).then(success).catch(fail);\r\n}\r\n\r\nexport {\r\n  listArticle,\r\n  writeArticle,\r\n  getArticle,\r\n  modifyArticle,\r\n  deleteArticle,\r\n  getTotalCount,\r\n  listComments,\r\n  createComment,\r\n  deleteComment,\r\n};\r\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","listArticle","_v","userInfo","article","userid","moveModifyArticle","deleteArticle","_e","staticStyle","domProps","_s","message","model","value","callback","$$v","comment","expression","createComment","_l","key","commentno","regtime","$event","deleteComment","content","staticRenderFns","name","data","computed","mapState","created","getArticle","console","methods","params","articleno","listComments","component","api","apiInstance","success","fail","get","then","catch","writeArticle","defaults","headers","sessionStorage","getItem","post","JSON","stringify","modifyArticle","put","delete","getTotalCount"],"sourceRoot":""}