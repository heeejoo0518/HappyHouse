"use strict";(self["webpackChunkhappyhouse"]=self["webpackChunkhappyhouse"]||[]).push([[610],{610:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{staticClass:"mt-4"},[s("b-row",[s("b-col",{attrs:{cols:"2"}}),s("b-col",{attrs:{cols:"8"}},[s("b-jumbotron",{attrs:{"bg-variant":"white"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("My Page")]},proxy:!0}])},[s("hr",{staticClass:"my-4"}),s("member-input-item")],1)],1),s("b-col",{attrs:{cols:"2"}})],1)],1)},a=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",[s("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[s("b-row",[s("b-col",{staticClass:"subject",attrs:{cols:"3","align-self":"center"}},[s("label",[e._v("아이디")])]),s("b-col",{staticClass:"item text-left",attrs:{cols:"8","align-self":"start"}},[e._v(e._s(e.user.userid))]),s("b-col",{attrs:{cols:"2"}})],1),s("b-row",[s("b-col",{staticClass:"subject",attrs:{cols:"3","align-self":"center"}},[s("label",[e._v("비밀번호")])]),s("b-col",{staticClass:"item",attrs:{cols:"8","align-self":"start"}},[s("b-form-input",{attrs:{type:"password",state:e.pwdState,"area-describedby":"input-pw-feedback"},model:{value:e.user.userpwd,callback:function(t){e.$set(e.user,"userpwd","string"===typeof t?t.trim():t)},expression:"user.userpwd"}}),s("b-form-invalid-feedback",{attrs:{id:"input-pwd-feedback"}},[e._v(" 현재 비밀번호를 정확하게 입력해주세요. ")])],1),s("b-col",{attrs:{cols:"2"}})],1),s("b-row",[s("b-col",{staticClass:"subject",attrs:{cols:"3","align-self":"center"}},[s("label",[e._v("새로운 비밀번호")])]),s("b-col",{staticClass:"item",attrs:{cols:"8","align-self":"start"}},[s("b-form-input",{attrs:{type:"password",state:e.inputPwdState},model:{value:e.newpwd,callback:function(t){e.newpwd="string"===typeof t?t.trim():t},expression:"newpwd"}}),s("b-form-invalid-feedback",{attrs:{id:"input-pwd-feedback"}},[e._v(" 비밀번호는 영어와 숫자를 포함한 6글자 이상이어야 합니다. ")])],1),s("b-col",{attrs:{cols:"2"}})],1),s("b-row",[s("b-col",{staticClass:"subject",attrs:{cols:"3","align-self":"center"}},[s("label",[e._v("이름")])]),s("b-col",{staticClass:"item",attrs:{cols:"8","align-self":"start"}},[s("b-form-input",{attrs:{type:"text"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username","string"===typeof t?t.trim():t)},expression:"user.username"}})],1),s("b-col",{attrs:{cols:"1"}})],1),s("b-row",[s("b-col",{staticClass:"subject",attrs:{cols:"3","align-self":"center"}},[s("label",[e._v("이메일")])]),s("b-col",{staticClass:"item",attrs:{cols:"8","align-self":"start"}},[s("b-form-input",{attrs:{type:"email",state:e.inputEmailState,"aria-describedby":"input-email-feedback"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"===typeof t?t.trim():t)},expression:"user.email"}}),s("b-form-invalid-feedback",{attrs:{id:"input-email-feedback"}},[e._v(" 정확한 이메일을 입력해주세요. ")])],1),s("b-col",{attrs:{cols:"2"}})],1)],1),s("hr",{staticClass:"my-4"}),s("b-button",{staticClass:"mr-1",attrs:{variant:"outline-primary"},on:{click:e.handleSubmit}},[e._v("정보수정")])],1)},i=[],l=s(6198),u=s(3019),o=(s(8975),s(4916),s(7601),s(3508)),c=s(4665),m={name:"MemberModifyItem",data:function(){return{newpwd:"",pwdState:null,user:{userid:"",userpwd:"",username:"",email:""}}},computed:(0,u.Z)((0,u.Z)({},(0,c.rn)("memberStore",["userInfo"])),{},{inputPwdState:function(){if(!this.newpwd)return null;var e=/[0-9]/,t=/[a-zA-Z]/;return this.newpwd.length>=6&&e.test(this.newpwd)&&t.test(this.newpwd)},inputEmailState:function(){if(!this.user.email)return null;if(this.user.email===this.userInfo.email)return null;var e=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;return e.test(this.user.email)}}),created:function(){this.user.userid=this.userInfo.userid,this.user.username=this.userInfo.username,this.user.email=this.userInfo.email},methods:(0,u.Z)((0,u.Z)({},(0,c.OI)("memberStore",["SET_USER_INFO"])),{},{checkFormValidty:function(){return!!this.$refs.form.checkValidity()},handleSubmit:function(){var e=this;return(0,l.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormValidty()){t.next=2;break}return t.abrupt("return");case 2:return e.pwdState=null,t.next=5,(0,o.zB)({userid:e.user.userid,userpwd:e.user.userpwd},(function(t){var s=t.data;e.pwdState="success"===s.message,e.pwdState&&e.modifyUser()}),(function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})))()},registUser:function(){(0,o.z2)(),this.$router.push("/user/signin")},modifyUser:function(){var e=this;(0,o.Pj)({userid:this.user.userid,userpwd:this.newpwd,username:this.user.username,email:this.user.email},(function(t){var s=t.data;"success"===s.message&&(e.SET_USER_INFO(s.userInfo),alert("정보 수정 완료"),e.$router.push("/user/mypage"))}),(function(e){console.log(e),alert("정보 수정 실패")}))}})},f=m,p=s(1001),b=(0,p.Z)(f,n,i,!1,null,null,null),d=b.exports,w={name:"MemberModify",components:{MemberInputItem:d}},h=w,v=(0,p.Z)(h,r,a,!1,null,null,null),g=v.exports}}]);
//# sourceMappingURL=610-legacy.628ff9e1.js.map