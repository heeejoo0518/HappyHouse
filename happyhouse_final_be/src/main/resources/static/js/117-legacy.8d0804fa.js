"use strict";(self["webpackChunkhappyhouse"]=self["webpackChunkhappyhouse"]||[]).push([[117],{8117:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"bv-example-row mt-3"},[n("b-row",{staticClass:"mb-1"},[n("b-col",{staticClass:"text-left"},[n("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:t.listArticle}},[t._v("목록")])],1),null!=t.userInfo&&t.article.userid==t.userInfo.userid?n("b-col",{staticClass:"text-right"},[n("b-button",{staticClass:"mr-2",attrs:{variant:"outline-info",size:"sm"},on:{click:t.moveModifyArticle}},[t._v("글수정")]),n("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:t.deleteArticle}},[t._v("글삭제")])],1):t._e()],1),n("b-row",{staticClass:"mb-1"},[n("b-col",[n("b-card",{staticClass:"mb-2",attrs:{"header-html":"<h3 class='mb-4 mt-1'>"+t.article.subject+"</h3><div class='text-right'><strong>"+t.article.userid+"</strong>  "+t.article.regtime+"</div>","border-variant":"white","no-body":""}},[n("b-card-body",{staticClass:"text-left",staticStyle:{"min-height":"400px"}},[n("div",{domProps:{innerHTML:t._s(t.message)}})])],1),n("hr",{staticClass:"my-4"}),n("div",{},[null!=t.userInfo?n("b-card",[n("b-row",[n("b-col",{attrs:{cols:"10"}},[n("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),n("b-col",{attrs:{cols:"2"}},[n("button",{staticClass:"btn btn-outline-primary",on:{click:t.createComment}},[t._v(" 등록 ")])])],1)],1):t._e(),t._l(t.article.comments,(function(e){return n("b-card",{key:e.commentno,staticClass:"text-left"},[n("b-card-text",[n("b",[t._v(t._s(e.userid))]),t._v(" "+t._s(e.regtime)+" "),n("span",[null!=t.userInfo&&e.userid==t.userInfo.userid?n("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(n){return t.deleteComment(e.commentno)}}},[t._v(" 삭제 ")]):t._e()])]),n("b-card-text",[t._v(t._s(e.content))])],1)}))],2)],1)],1)],1)},o=[],s=n(3019),r=(n(9600),n(4916),n(3123),n(5306),n(2164)),a=n(4665),i="memberStore",l={name:"BoardDetail",data:function(){return{article:{},comment:""}},computed:(0,s.Z)({message:function(){return this.article.content?this.article.content.split("\n").join("<br>"):""}},(0,a.rn)(i,["userInfo"])),created:function(){var t=this;(0,r.fq)(this.$route.params.articleno,(function(e){t.article=e.data}),(function(t){console.log("삭제시 에러발생!!",t)})),this.listComments()},methods:{listArticle:function(){this.$router.push({name:"boardList"})},moveModifyArticle:function(){this.$router.replace({name:"boardModify",params:{articleno:this.article.articleno}})},deleteArticle:function(){var t=this;confirm("정말로 삭제?")&&(0,r.jX)(this.article.articleno,(function(){t.$router.push({name:"boardList"})}))},listComments:function(){var t=this;(0,r.BM)(this.$route.params.articleno,(function(e){t.article=e.data}),(function(t){console.log(t)}))},createComment:function(){var t=this;(0,r.Yr)({articleno:this.article.articleno,userid:this.userInfo.userid,content:this.comment},(function(e){"success"===e.data&&(t.listComments(),t.comment="")}),(function(t){console.log("댓글 등록시 에러발생!!",t)}))},deleteComment:function(t){var e=this;(0,r.YF)(t,(function(t){"success"===t.data&&e.listComments()}),(function(t){console.log("댓글 등록시 에러발생!!",t)}))}}},u=l,m=n(1001),f=(0,m.Z)(u,c,o,!1,null,null,null),d=f.exports},2164:function(t,e,n){n.d(e,{BM:function(){return m},FX:function(){return u},YF:function(){return d},Yr:function(){return f},cn:function(){return i},fq:function(){return a},hY:function(){return r},jC:function(){return s},jX:function(){return l}});n(8862);var c=n(6927),o=(0,c.b)();function s(t,e){o.get("/board").then(t).catch(e)}function r(t,e,n){o.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),o.post("/board",JSON.stringify(t)).then(e).catch(n)}function a(t,e,n){o.get("/board/".concat(t)).then(e).catch(n)}function i(t,e,n){o.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),o.put("/board/".concat(t.articleno),JSON.stringify(t)).then(e).catch(n)}function l(t,e,n){o.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),o.delete("/board/".concat(t)).then(e).catch(n)}function u(t,e){o.get("/board/count").then(t).catch(e)}function m(t,e,n){o.get("/board/".concat(t)).then(e).catch(n)}function f(t,e,n){o.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),o.post("/board/comment",JSON.stringify(t)).then(e).catch(n)}function d(t,e,n){o.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),o.delete("board/comment/".concat(t)).then(e).catch(n)}}}]);
//# sourceMappingURL=117-legacy.8d0804fa.js.map