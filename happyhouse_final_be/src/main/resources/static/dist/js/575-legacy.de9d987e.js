(self["webpackChunkhappyhouse"]=self["webpackChunkhappyhouse"]||[]).push([[575],{1339:function(t,e,s){"use strict";s.d(e,{Z:function(){return m}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{ref:"modal",staticClass:"bv-example-row",attrs:{id:"house-detail-modal",title:t.house.apartmentName},on:{hidden:t.CLEAR_HOUSE},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[s("div",[s("p",{staticClass:"float-left"}),t.check||null==t.userInfo?t._e():s("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"sm"},on:{click:t.addApt}},[t._v(" 관심지역 추가 ")]),t.check&&null!=t.userInfo?s("b-button",{staticClass:"float-right",attrs:{variant:"danger",size:"sm"},on:{click:t.deleteApt}},[t._v(" 관심지역 취소 ")]):t._e()],1)]},proxy:!0}])},[s("b-container",{attrs:{fluid:""}},[s("div",{staticStyle:{width:"400px",height:"300px"},attrs:{id:"newMap"}})])],1)},o=[],n=s(3019),i=(s(1539),s(4747),s(561),s(1249),s(2222),s(9653),s(4665)),r=s(1457),u="houseStore",p="memberStore",c={name:"HouseDetail",data:function(){return{map:null,markers:[]}},computed:(0,n.Z)((0,n.Z)((0,n.Z)({},(0,i.rn)(u,["house","houses","hospitals"])),(0,i.rn)(p,["userInfo"])),{},{check:function(){return"Y"==this.house.check}}),methods:(0,n.Z)((0,n.Z)((0,n.Z)({},(0,i.OI)(u,["CLEAR_HOUSE"])),(0,i.nv)(u,["getHouseDetail","getHospitalList"])),{},{addApt:function(){var t=this;(0,r.qP)({userid:this.userInfo.userid,aptCode:this.house.aptCode},(function(e){var s=e.data;console.log(s);var a="등록 처리시 문제가 발생했습니다.";"success"===s.message&&(a="등록이 완료되었습니다.",t.house.check="Y",t.houses.push(t.house)),alert(a)}),(function(t){console.log(t)}))},deleteApt:function(){var t=this;(0,r.Fh)({userid:this.userInfo.userid,aptCode:this.house.aptCode},(function(e){var s=e.data,a="삭제 처리시 문제가 발생했습니다.";"success"===s.message&&(a="삭제가 완료되었습니다.",t.house.check="N",t.houses.forEach((function(e,s){e.aptCode==t.house.aptCode&&t.houses.splice(s,1)}))),alert(a)}),(function(t){console.log(t)}))},makeMarkers:function(){var t=this;this.markers=[];var e=null,a=s(9325);this.hospitals.forEach((function(s){e=new kakao.maps.Marker({map:t.map,position:new kakao.maps.LatLng(parseFloat(s.wgs84Lat),parseFloat(s.wgs84Lon)),title:s.dutyName,image:new kakao.maps.MarkerImage(a,new kakao.maps.Size(35,35))}),t.markers.push(e);var o=new kakao.maps.InfoWindow({position:new kakao.maps.LatLng(s.wgs84Lat,s.wgs84Lon),content:'<div style="width:200px;\n          display: block;\n          background: #50627F;\n          color: #fff;\n          text-align: center;\n          height: 24px;\n          line-height:22px;\n          border-radius:4px;\n          padding:0px 10px;">'.concat(s.dutyName,"</div>")});kakao.maps.event.addListener(e,"mouseover",t.makeOverListener(t.map,e,o)),kakao.maps.event.addListener(e,"mouseout",t.makeOutListener(o))}));var o=s(816);e=new kakao.maps.Marker({map:this.map,position:new kakao.maps.LatLng(parseFloat(this.house.lat),parseFloat(this.house.lng)),title:this.house.apartmentName,image:new kakao.maps.MarkerImage(o,new kakao.maps.Size(35,35))}),e.setMap(this.map),this.markers.push(e);var n='<div style="width:350px; text-align:center; padding:5px;"><h5>'.concat(this.house.apartmentName,'</h5></div>\n      <div style="width:350px; padding:5px">가격 : ').concat(this.house.lowest,",000 ~ ").concat(this.house.highest,",000원<br>\n      가까운 병원 : ").concat(this.calculation(),"</div>"),i=new kakao.maps.LatLng(this.house.lat,this.house.lng),r=new kakao.maps.InfoWindow({position:i,content:n});r.open(this.map,e)},initMap:function(){var t=document.getElementById("newMap"),e={center:new kakao.maps.LatLng(this.house.lat,this.house.lng),level:5};this.map=new kakao.maps.Map(t,e),this.map.setZoomable(!1)},setCenter:function(t,e){this.map.setCenter(new kakao.maps.LatLng(t,e))},makeOverListener:function(t,e,s){return function(){s.open(t,e)}},makeOutListener:function(t){return function(){t.close()}},calculation:function(){var t=this,e=Number.MAX_VALUE,s=-1;return this.hospitals.forEach((function(a,o){var n=parseFloat(a.wgs84Lat)-parseFloat(t.house.lat),i=parseFloat(a.wgs84Lon)-parseFloat(t.house.lng),r=Math.sqrt(Math.abs(n*n)+Math.abs(i*i));r<e&&(e=r,s=o)})),-1==s?"가까운 병원이 없습니다.":"".concat(this.hospitals[s].dutyName)}}),mounted:function(){var t=this;if(window.kakao&&window.kakao.maps)this.initMap();else{var e=document.createElement("script");e.src="//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=".concat("b9ba0fdeea1c1db7ad7f71e4962d1bb3"),e.addEventListener("load",(function(){kakao.maps.load(t.initMap)})),document.head.appendChild(e)}this.makeMarkers()},updated:function(){var t=this;if(window.kakao&&window.kakao.maps)this.initMap();else{var e=document.createElement("script");e.src="//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=".concat("b9ba0fdeea1c1db7ad7f71e4962d1bb3"),e.addEventListener("load",(function(){kakao.maps.load(t.initMap)})),document.head.appendChild(e)}this.makeMarkers()}},l=c,d=s(1001),h=(0,d.Z)(l,a,o,!1,null,null,null),m=h.exports},6575:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return j}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.houses&&0!=t.houses.length?s("b-container",{staticClass:"bv-example-row mt-3"},[s("b-row",t._l(t.houses,(function(e,a){return s("b-card-group",{key:a,staticClass:"col-md-3"},[s("house-list-item",{staticStyle:{"margin-bottom":"3rem"},attrs:{house:e},on:{openModal:t.openModal}})],1)})),1),s("house-detail",{ref:"detailModal"})],1):s("b-container",{staticClass:"bv-example-row mt-3"},[s("b-row",[s("b-col",[s("b-alert",{attrs:{show:""}},[t._v("주택 목록이 없습니다.")])],1)],1)],1)},o=[],n=s(3019),i=(s(8309),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{class:{"mouse-over-bgcolor":t.isColor},attrs:{"no-body":"","img-height":"150","img-src":s(5658)("./"+(this.house.aptCode%20+1)+".jpg"),"img-alt":"집이미지","img-top":""},on:{click:function(e){return t.selectHouse(t.house.aptCode)},mouseover:function(e){return t.colorChange(!0)},mouseout:function(e){return t.colorChange(!1)}}},[a("b-card-body",[a("b-card-title",[t._v(t._s(t.house.apartmentName))]),a("b-card-sub-title",{staticClass:"mb-2"},[t._v(t._s(t.house.dong))])],1)],1)}),r=[],u=s(4665),p="memberStore",c="houseStore",l={name:"HouseListItem",data:function(){return{isColor:!1}},computed:(0,n.Z)((0,n.Z)({},(0,u.rn)(p,["userInfo"])),(0,u.rn)(c,["hospitals"])),props:{house:Object},methods:(0,n.Z)((0,n.Z)({},(0,u.nv)(c,["getHouseDetail"])),{},{selectHouse:function(t){this.$emit("openModal"),null!=this.userInfo?this.getHouseDetail({aptCode:t,userid:this.userInfo.userid}):this.getHouseDetail({aptCode:t,userid:null})},colorChange:function(t){this.isColor=t}})},d=l,h=s(1001),m=(0,h.Z)(d,i,r,!1,null,"e00c672a",null),g=m.exports,f=s(1339),k="houseStore",b={name:"HouseList",components:{HouseListItem:g,HouseDetail:f.Z},data:function(){return{}},created:function(){this.$emit("saveToggle",this.$route.name)},computed:(0,n.Z)({},(0,u.rn)(k,["houses","hospitals"])),methods:{openModal:function(){this.$refs.detailModal.$refs.modal.show()}}},v=b,w=(0,h.Z)(v,a,o,!1,null,null,null),j=w.exports},5658:function(t,e,s){var a={"./1.jpg":9290,"./10.jpg":2227,"./11.jpg":5771,"./12.jpg":5653,"./13.jpg":6412,"./14.jpg":925,"./15.jpg":5439,"./16.jpg":6501,"./17.jpg":4444,"./18.jpg":5158,"./19.jpg":2427,"./2.jpg":7157,"./20.jpg":8489,"./3.jpg":4150,"./4.jpg":4197,"./5.jpg":2055,"./6.jpg":9855,"./7.jpg":8445,"./8.jpg":6666,"./9.jpg":8571};function o(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=n,t.exports=o,o.id=5658},9290:function(t,e,s){"use strict";t.exports=s.p+"img/1.ef562dbc.jpg"},2227:function(t,e,s){"use strict";t.exports=s.p+"img/10.75e17d98.jpg"},5771:function(t,e,s){"use strict";t.exports=s.p+"img/11.677eb0a5.jpg"},5653:function(t,e,s){"use strict";t.exports=s.p+"img/12.7ae550db.jpg"},6412:function(t,e,s){"use strict";t.exports=s.p+"img/13.d01efab6.jpg"},925:function(t,e,s){"use strict";t.exports=s.p+"img/14.251ecc1e.jpg"},5439:function(t,e,s){"use strict";t.exports=s.p+"img/15.91e6f69d.jpg"},6501:function(t,e,s){"use strict";t.exports=s.p+"img/16.6526a1c9.jpg"},4444:function(t,e,s){"use strict";t.exports=s.p+"img/17.039ab652.jpg"},5158:function(t,e,s){"use strict";t.exports=s.p+"img/18.cc6d0389.jpg"},2427:function(t,e,s){"use strict";t.exports=s.p+"img/19.251af543.jpg"},7157:function(t,e,s){"use strict";t.exports=s.p+"img/2.b1b1c1a9.jpg"},8489:function(t,e,s){"use strict";t.exports=s.p+"img/20.bc93da2b.jpg"},4150:function(t,e,s){"use strict";t.exports=s.p+"img/3.350a4389.jpg"},4197:function(t,e,s){"use strict";t.exports=s.p+"img/4.5187decd.jpg"},2055:function(t,e,s){"use strict";t.exports=s.p+"img/5.ac4ae36e.jpg"},9855:function(t,e,s){"use strict";t.exports=s.p+"img/6.02b5e77f.jpg"},8445:function(t,e,s){"use strict";t.exports=s.p+"img/7.920f10ef.jpg"},6666:function(t,e,s){"use strict";t.exports=s.p+"img/8.302d29de.jpg"},8571:function(t,e,s){"use strict";t.exports=s.p+"img/9.9c79693b.jpg"},816:function(t,e,s){"use strict";t.exports=s.p+"img/flat.0a6df7e9.png"},9325:function(t,e,s){"use strict";t.exports=s.p+"img/hospital.f1e3ea15.png"}}]);
//# sourceMappingURL=575-legacy.de9d987e.js.map