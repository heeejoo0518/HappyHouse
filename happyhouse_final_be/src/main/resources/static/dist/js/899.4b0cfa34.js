"use strict";(self["webpackChunkhappyhouse"]=self["webpackChunkhappyhouse"]||[]).push([[899],{899:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"bv-example-row mt-3"},[s("b-row",[s("b-col",{attrs:{cols:"2"}}),s("b-col",{attrs:{cols:"8"}},[s("b-jumbotron",{attrs:{"bg-variant":"white","header-level":"4"},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("글 수정")]},proxy:!0}])},[s("hr",{staticClass:"my-4"}),s("board-input-item",{attrs:{type:"modify"}}),s("hr",{staticClass:"my-4"})],1)],1),s("b-col",{attrs:{cols:"2"}})],1)],1)},n=[],c=s(5331),o={name:"BoardModify",components:{BoardInputItem:c.Z}},a=o,i=s(1001),u=(0,i.Z)(a,r,n,!1,null,null,null),l=u.exports},5331:function(t,e,s){s.d(e,{Z:function(){return b}});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",{staticClass:"mb-1"},[s("b-col",{staticStyle:{"text-align":"left"}},[s("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[s("b-form-group",{attrs:{id:"subject-group",label:"제목:","label-for":"subject"}},[s("b-form-input",{attrs:{id:"subject",type:"text",required:"",placeholder:"제목 입력..."},model:{value:t.article.subject,callback:function(e){t.$set(t.article,"subject",e)},expression:"article.subject"}})],1),s("b-form-group",{attrs:{id:"content-group",label:"내용:","label-for":"content"}},[s("b-form-textarea",{attrs:{id:"content",placeholder:"내용 입력...",rows:"10","max-rows":"15"},model:{value:t.article.content,callback:function(e){t.$set(t.article,"content",e)},expression:"article.content"}})],1),s("b-row",{staticClass:"mb-1 text-right"},[s("b-col",["register"===this.type?s("b-button",{staticClass:"m-1",attrs:{type:"submit",variant:"primary"}},[t._v("글작성")]):s("b-button",{staticClass:"m-1",attrs:{type:"submit",variant:"primary"}},[t._v("글수정")])],1)],1)],1)],1)],1)},n=[],c=s(2164),o=s(4665);const a="memberStore";var i={name:"BoardInputItem",data(){return{article:{articleno:0,userid:"",subject:"",content:""}}},props:{type:{type:String}},computed:{...(0,o.rn)(a,["userInfo"])},created(){"modify"===this.type?((0,c.fq)(this.$route.params.articleno,(({data:t})=>{this.article=t}),(t=>{console.log(t)})),this.isUserid=!0):this.article.userid=this.userInfo.userid},methods:{onSubmit(t){t.preventDefault();let e=!0,s="";!this.article.subject&&(s="제목 입력해주세요",e=!1,this.$refs.subject.focus()),e&&!this.article.content&&(s="내용 입력해주세요",e=!1,this.$refs.content.focus()),e?"register"===this.type?this.registArticle():this.modifyArticle():alert(s)},onReset(t){t.preventDefault(),this.article.articleno=0,this.article.subject="",this.article.content="",this.$router.push({name:"boardList"})},registArticle(){(0,c.hY)({userid:this.article.userid,subject:this.article.subject,content:this.article.content},(({data:t})=>{let e="등록 처리시 문제가 발생했습니다.";"success"===t&&(e="등록이 완료되었습니다."),alert(e),this.moveList()}),(t=>{console.log(t)}))},modifyArticle(){(0,c.cn)({articleno:this.article.articleno,userid:this.article.userid,subject:this.article.subject,content:this.article.content},(({data:t})=>{let e="수정 처리시 문제가 발생했습니다.";"success"===t&&(e="수정이 완료되었습니다."),alert(e),this.$router.push({name:"boardList"})}),(t=>{console.log(t)}))},moveList(){this.$router.push({name:"boardList"})}}},u=i,l=s(1001),h=(0,l.Z)(u,r,n,!1,null,null,null),b=h.exports},2164:function(t,e,s){s.d(e,{BM:function(){return h},FX:function(){return l},YF:function(){return f},Yr:function(){return b},cn:function(){return i},fq:function(){return a},hY:function(){return o},jC:function(){return c},jX:function(){return u}});var r=s(6927);const n=(0,r.b)();function c(t,e){n.get("/board").then(t).catch(e)}function o(t,e,s){n.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),n.post("/board",JSON.stringify(t)).then(e).catch(s)}function a(t,e,s){n.get(`/board/${t}`).then(e).catch(s)}function i(t,e,s){n.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),n.put(`/board/${t.articleno}`,JSON.stringify(t)).then(e).catch(s)}function u(t,e,s){n.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),n.delete(`/board/${t}`).then(e).catch(s)}function l(t,e){n.get("/board/count").then(t).catch(e)}function h(t,e,s){n.get(`/board/${t}`).then(e).catch(s)}function b(t,e,s){n.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),n.post("/board/comment",JSON.stringify(t)).then(e).catch(s)}function f(t,e,s){n.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),n.delete(`board/comment/${t}`).then(e).catch(s)}}}]);
//# sourceMappingURL=899.4b0cfa34.js.map