"use strict";(self["webpackChunkhappyhouse"]=self["webpackChunkhappyhouse"]||[]).push([[610],{610:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{staticClass:"mt-4"},[s("b-row",[s("b-col",{attrs:{cols:"2"}}),s("b-col",{attrs:{cols:"8"}},[s("b-jumbotron",{attrs:{"bg-variant":"white"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v("My Page")]},proxy:!0}])},[s("hr",{staticClass:"my-4"}),s("member-input-item")],1)],1),s("b-col",{attrs:{cols:"2"}})],1)],1)},a=[],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",[s("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[s("b-row",[s("b-col",{staticClass:"subject",attrs:{cols:"3","align-self":"center"}},[s("label",[e._v("아이디")])]),s("b-col",{staticClass:"item text-left",attrs:{cols:"8","align-self":"start"}},[e._v(e._s(e.user.userid))]),s("b-col",{attrs:{cols:"2"}})],1),s("b-row",[s("b-col",{staticClass:"subject",attrs:{cols:"3","align-self":"center"}},[s("label",[e._v("비밀번호")])]),s("b-col",{staticClass:"item",attrs:{cols:"8","align-self":"start"}},[s("b-form-input",{attrs:{type:"password",state:e.pwdState,"area-describedby":"input-pw-feedback"},model:{value:e.user.userpwd,callback:function(t){e.$set(e.user,"userpwd","string"===typeof t?t.trim():t)},expression:"user.userpwd"}}),s("b-form-invalid-feedback",{attrs:{id:"input-pwd-feedback"}},[e._v(" 현재 비밀번호를 정확하게 입력해주세요. ")])],1),s("b-col",{attrs:{cols:"2"}})],1),s("b-row",[s("b-col",{staticClass:"subject",attrs:{cols:"3","align-self":"center"}},[s("label",[e._v("새로운 비밀번호")])]),s("b-col",{staticClass:"item",attrs:{cols:"8","align-self":"start"}},[s("b-form-input",{attrs:{type:"password",state:e.inputPwdState},model:{value:e.newpwd,callback:function(t){e.newpwd="string"===typeof t?t.trim():t},expression:"newpwd"}}),s("b-form-invalid-feedback",{attrs:{id:"input-pwd-feedback"}},[e._v(" 비밀번호는 영어와 숫자를 포함한 6글자 이상이어야 합니다. ")])],1),s("b-col",{attrs:{cols:"2"}})],1),s("b-row",[s("b-col",{staticClass:"subject",attrs:{cols:"3","align-self":"center"}},[s("label",[e._v("이름")])]),s("b-col",{staticClass:"item",attrs:{cols:"8","align-self":"start"}},[s("b-form-input",{attrs:{type:"text"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username","string"===typeof t?t.trim():t)},expression:"user.username"}})],1),s("b-col",{attrs:{cols:"1"}})],1),s("b-row",[s("b-col",{staticClass:"subject",attrs:{cols:"3","align-self":"center"}},[s("label",[e._v("이메일")])]),s("b-col",{staticClass:"item",attrs:{cols:"8","align-self":"start"}},[s("b-form-input",{attrs:{type:"email",state:e.inputEmailState,"aria-describedby":"input-email-feedback"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"===typeof t?t.trim():t)},expression:"user.email"}}),s("b-form-invalid-feedback",{attrs:{id:"input-email-feedback"}},[e._v(" 정확한 이메일을 입력해주세요. ")])],1),s("b-col",{attrs:{cols:"2"}})],1)],1),s("hr",{staticClass:"my-4"}),s("b-button",{staticClass:"mr-1",attrs:{variant:"outline-primary"},on:{click:e.handleSubmit}},[e._v("정보수정")])],1)},i=[],n=s(3508),u=s(4665),o={name:"MemberModifyItem",data(){return{newpwd:"",pwdState:null,user:{userid:"",userpwd:"",username:"",email:""}}},computed:{...(0,u.rn)("memberStore",["userInfo"]),inputPwdState(){if(!this.newpwd)return null;let e=/[0-9]/,t=/[a-zA-Z]/;return this.newpwd.length>=6&&e.test(this.newpwd)&&t.test(this.newpwd)},inputEmailState(){if(!this.user.email)return null;if(this.user.email===this.userInfo.email)return null;let e=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;return e.test(this.user.email)}},created(){this.user.userid=this.userInfo.userid,this.user.username=this.userInfo.username,this.user.email=this.userInfo.email},methods:{...(0,u.OI)("memberStore",["SET_USER_INFO"]),checkFormValidty(){return!!this.$refs.form.checkValidity()},async handleSubmit(){this.checkFormValidty()&&(this.pwdState=null,await(0,n.zB)({userid:this.user.userid,userpwd:this.user.userpwd},(({data:e})=>{this.pwdState="success"===e.message,this.pwdState&&this.modifyUser()}),(e=>{console.log(e)})))},registUser(){(0,n.z2)(),this.$router.push("/user/signin")},modifyUser(){(0,n.Pj)({userid:this.user.userid,userpwd:this.newpwd,username:this.user.username,email:this.user.email},(({data:e})=>{"success"===e.message&&(this.SET_USER_INFO(e.userInfo),alert("정보 수정 완료"),this.$router.push("/user/mypage"))}),(e=>{console.log(e),alert("정보 수정 실패")}))}}},c=o,m=s(1001),d=(0,m.Z)(c,l,i,!1,null,null,null),b=d.exports,p={name:"MemberModify",components:{MemberInputItem:b}},f=p,h=(0,m.Z)(f,r,a,!1,null,null,null),w=h.exports}}]);
//# sourceMappingURL=610.2d252ceb.js.map