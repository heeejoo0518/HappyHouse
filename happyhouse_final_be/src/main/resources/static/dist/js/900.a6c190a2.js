"use strict";(self["webpackChunkhappyhouse"]=self["webpackChunkhappyhouse"]||[]).push([[900],{1900:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.userInfo?s("b-container",{staticClass:"mt-4"},[s("b-row",[s("b-col",{attrs:{cols:"2"}}),s("b-col",{attrs:{cols:"8"}},[s("b-jumbotron",{attrs:{"bg-variant":"white"},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("My Page")]},proxy:!0}],null,!1,176189349)},[s("hr",{staticClass:"my-4"}),s("b-container",{staticClass:"mt-4"},[s("b-row",[s("b-col",{attrs:{cols:"2"}}),s("b-col",{staticClass:"subject",attrs:{cols:"2","align-self":"end"}},[t._v("아이디")]),s("b-col",{staticClass:"item",attrs:{cols:"4","align-self":"start"}},[t._v(t._s(t.userInfo.userid))]),s("b-col",{attrs:{cols:"2"}})],1),s("b-row",[s("b-col",{attrs:{cols:"2"}}),s("b-col",{staticClass:"subject",attrs:{cols:"2","align-self":"end"}},[t._v("이름")]),s("b-col",{staticClass:"item",attrs:{cols:"4","align-self":"start"}},[t._v(t._s(t.userInfo.username))]),s("b-col",{attrs:{cols:"2"}})],1),s("b-row",[s("b-col",{attrs:{cols:"2"}}),s("b-col",{staticClass:"subject",attrs:{cols:"2","align-self":"end"}},[t._v("이메일")]),s("b-col",{staticClass:"item",attrs:{cols:"4","align-self":"start"}},[t._v(t._s(t.userInfo.email))]),s("b-col",{attrs:{cols:"2"}})],1),s("b-row",[s("b-col",{attrs:{cols:"2"}}),s("b-col",{staticClass:"subject",attrs:{cols:"2","align-self":"end"}},[t._v("가입일")]),s("b-col",{staticClass:"item",attrs:{cols:"4","align-self":"start"}},[t._v(t._s(t.userInfo.joindate))]),s("b-col",{attrs:{cols:"2"}})],1)],1),s("hr",{staticClass:"my-4"}),s("b-button",{staticClass:"mr-1",attrs:{variant:"outline-primary",href:"/user/modify"}},[t._v("정보수정")]),s("b-button",{attrs:{variant:"outline-danger"},on:{click:t.openModal}},[t._v("회원탈퇴")])],1)],1),s("b-col",{attrs:{cols:"2"}})],1),s("member-delete",{ref:"deleteModal",on:{deleteUser:t.deleteUser}})],1):t._e()},a=[],r=s(4665),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{ref:"modal",attrs:{id:"delete-user-modal",title:"회원탈퇴"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[s("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[s("b-form-group",{attrs:{label:"안전한 탈퇴를 위해 비밀번호를 다시 한 번 입력해주세요.","label-for":"pwd-input","invalid-feedback":"현재 비밀번호를 입력해주세요.",state:t.pwdState}},[s("b-form-input",{attrs:{id:"pwd-input",type:"password",state:t.pwdState,required:""},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}})],1)],1)])},n=[],c=s(3508);const i="memberStore";var u={name:"MemberDelete",data(){return{pwd:"",pwdState:null}},computed:{...(0,r.rn)(i,["userInfo"])},methods:{checkFormValidity(){return!!this.$refs.form.checkValidity()&&((0,c.zB)({userid:this.userInfo.userid,userpwd:this.pwd},(({data:t})=>{this.pwdState="success"===t.message}),(t=>{console.log(t)})),this.pwdState)},resetModal(){this.pwd="",this.pwdState=null},handleOk(t){t.preventDefault(),this.handleSubmit()},handleSubmit(){this.checkFormValidity()&&(0,c.h8)(this.userInfo.userid,(({data:t})=>{"success"===t.message&&(this.$emit("deleteUser"),this.$bvModal.hide("delete-user-modal"))}),(t=>{console.log(t)}))}}},d=u,b=s(1001),m=(0,b.Z)(d,o,n,!1,null,null,null),h=m.exports;const f="memberStore";var p={name:"MemberMyPage",components:{MemberDelete:h},computed:{...(0,r.rn)(f,["userInfo"])},methods:{...(0,r.OI)(f,["SET_IS_LOGIN","SET_USER_INFO"]),deleteUser(){this.SET_IS_LOGIN(!1),this.SET_USER_INFO(null),sessionStorage.removeItem("access-token"),alert("회원탈퇴가 완료되었습니다."),"/"!=this.$route.path&&this.$router.push({name:"home"})},openModal(){this.$refs.deleteModal.$refs.modal.show()}}},_=p,w=(0,b.Z)(_,l,a,!1,null,null,null),v=w.exports}}]);
//# sourceMappingURL=900.a6c190a2.js.map